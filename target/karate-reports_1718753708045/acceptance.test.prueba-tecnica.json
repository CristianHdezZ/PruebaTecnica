[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"configure retry = {count: 3, interval: 3000}","result":{"duration":288298300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"18:16:49.867 Cargando configuraciones null \n","line":4}},{"name":"url baseURL","result":{"duration":4252900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def readerCSV = Java.type('co.cobre.lib.qa.util.UpdateFileCSV')","result":{"duration":47147400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def filePathCaracteresEspeciales = 'src\/test\/java\/acceptance\/test\/recaudoTemplateCaracteresEspeciales.csv'","result":{"duration":3110600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def searchNumeroDocumento = '558432'","result":{"duration":3828500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def newValueFechaVencimiento = '2024-04-20'","result":{"duration":6682300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def record = readerCSV.cargarDatosRecaudos(filePathCaracteresEspeciales, searchNumeroDocumento, newValueFechaVencimiento)","result":{"duration":151600500,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Modificar el campo en el CSV"],"keyword":"*","line":11},{"name":"print record","result":{"duration":54387900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12,"doc_string":{"content_type":"","value":"18:16:50.629 [print] [\n  \"RecaudoTemplate{tipoDocumento='CE', numeroDocumento='89308166', nombrePagador='', celular='+573504241615', email='correoprueba@gmail.com', referenciaUna='Ref8', referenciaDos='Ref27', descripcion='Pago deuda', monto='1157321', fechaVencimiento='2023-09-20', url='https:\/\/www.google.com'}\",\n  \"RecaudoTemplate{tipoDocumento='CC', numeroDocumento='558432', nombrePagador='RICARDO TORRES', celular='', email='rtorres@gmail.com', referenciaUna='Ref9', referenciaDos='Ref28', descripcion='', monto='75000', fechaVencimiento='2024-04-20', url='https:\/\/www.google.com'}\"\n]\n \n","line":12}},{"name":"def filePathDatosCorrectos = 'src\/test\/java\/acceptance\/test\/recaudoTemplateDatosCorrectos.csv'","result":{"duration":4638200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def searchNumeroDocumento = '952456029'","result":{"duration":7742500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def newValueFechaVencimiento = '2024-04-20'","result":{"duration":4653100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"def record = readerCSV.cargarDatosRecaudos(filePathDatosCorrectos, searchNumeroDocumento, newValueFechaVencimiento)","result":{"duration":26989900,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Modificar el campo en el CSV"],"keyword":"*","line":18},{"name":"print record","result":{"duration":16806300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19,"doc_string":{"content_type":"","value":"18:16:50.692 [print] [\n  \"RecaudoTemplate{tipoDocumento='CC', numeroDocumento='82954306', nombrePagador='Oscar Gomez', celular='+573001679059', email='ogomez@gmail.com', referenciaUna='Ref1', referenciaDos='', descripcion='', monto='2000', fechaVencimiento='2023-09-15', url='https:\/\/www.google.com'}\",\n  \"RecaudoTemplate{tipoDocumento='CE', numeroDocumento='461346', nombrePagador='Claudia López', celular='+573431092832', email='clopez@gmail.com', referenciaUna='Ref2', referenciaDos='', descripcion='', monto='1000000', fechaVencimiento='2023-09-15', url='https:\/\/www.google.com'}\",\n  \"RecaudoTemplate{tipoDocumento='NIT', numeroDocumento='952456029', nombrePagador='Natalia Perez', celular='+573790765120', email='nlopez@gmail.com', referenciaUna='Ref3', referenciaDos='', descripcion='', monto='2999', fechaVencimiento='2024-04-20', url='https:\/\/www.google.com'}\"\n]\n \n","line":19}},{"result":{"duration":111507200,"error_message":"js failed:\n>>>>\n01: Java.type('co.cobre.lib.qa.aws.S3Util')\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Access to host class co.cobre.lib.qa.aws.S3Util is not allowed or does not exist.\n- <js>.:program(Unnamed:1)\n\nclasspath:acceptance\/test\/prueba-tecnica.feature:24","status":"failed"},"comments":["# La clase S3Util se encuentra en un gestor de librerías externo al proyecto","# Imaginemos que esta clase contiene la configuración y conexión de un cliente AWS, además los métodos para subir archivos a buckets S3","# También contiene un método para verificar si un archivo se encuentra dentro de un folder"],"line":24,"name":"def S3Manager = Java.type('co.cobre.lib.qa.aws.S3Util')","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"18:16:50.808 classpath:acceptance\/test\/prueba-tecnica.feature:24\n* def S3Manager = Java.type('co.cobre.lib.qa.aws.S3Util')\njs failed:\n>>>>\n01: Java.type('co.cobre.lib.qa.aws.S3Util')\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Access to host class co.cobre.lib.qa.aws.S3Util is not allowed or does not exist.\n- <js>.:program(Unnamed:1)\n\nclasspath:acceptance\/test\/prueba-tecnica.feature:24\n","line":24}},{"name":"def S3ManagerInstance = new S3Manager()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":25},{"name":"def SQSManager = karate.callSingle('..\/acceptance\/test\/instances-sqs.js')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":26},{"name":"def waitTime = function(seconds) { java.lang.Thread.sleep(seconds * 1000) }","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":27},{"name":"def FileUtils = Java.type('co.cobre.lib.qa.util.FileUtils')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# La clase FileUtils se encuentra en un gestor de librerías externo al proyecto","# Imaginemos que esta clase contiene métodos para tomar un archivo, renombrarlo y copiarlo en otra ruta"],"keyword":"*","line":30},{"name":"def bucketName = 'test-automation-qa'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #"],"keyword":"*","line":33},{"name":"def folderRecaudoFiles = 'files-to-cash-in'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def noveltyUuid = java.util.UUID.randomUUID().toString()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"print \"El uuid de la novedad es: \" + noveltyUuid","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def fileExtension = \".csv\"","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def fullFileName = noveltyUuid+fileExtension","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def renameFile = FileUtils.renameFile(currentFilePath, currentFileName, newPathNewFile, noveltyUuid, fileExtension)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #"],"keyword":"*","line":40},{"name":"waitTime(3)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":41},{"name":"print \"El resultado de renombrar el archivo es: \" + renameFile","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":42},{"name":"match renameFile == true","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"print \"El bucket es: \" + bucketName","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #"],"keyword":"*","line":45},{"name":"print \"El folder  es: \" + folderRecaudoFiles","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":46},{"name":"S3ManagerInstance.uploadFileToBucket(bucketName, folderRecaudoFiles, fullFileName, newPathNewFile)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":47},{"name":"waitTime(3)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":48},{"name":"def fileExist = S3ManagerInstance.doesFileExist(bucketName, folderRecaudoFiles, fullFileName)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #"],"keyword":"*","line":50},{"name":"print \"La existencia del archivo es: \" + fileExist","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"match fileExist == true","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52},{"result":{"duration":0,"status":"skipped"},"comments":["# --------------------------------------------------------------- #"],"line":54,"name":"def variableMapToReplaceInQueueMessageBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n\"fileName\": '#(fullFileName)',\n\"workplacebankCode\": '',\n\"bucketName\": '#(bucketName)'\n}","line":54}}]},{"start_timestamp":"2024-06-18T23:16:49.087Z","line":89,"name":"Dado que se carga un archivo de recaudo con datos correctamente con usuarios que recibirán un link de pago, al procesarse el archivo se persisten en BD los recaudo creados exitosamente","description":"","id":"dado-que-se-carga-un-archivo-de-recaudo-con-datos-correctamente-con-usuarios-que-recibirán-un-link-de-pago,-al-procesarse-el-archivo-se-persisten-en-bd-los-recaudo-creados-exitosamente","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"set variableMapToReplaceInQueueMessageBody.workplacebankCode = 'TEST01'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":66},{"name":"SQSManager.sendMessageToQueue('queueEvent.json', 'testing-recaudo-qa.fifo', variableMapToReplaceInQueueMessageBody, 'src\/test\/java\/acceptance\/test\/')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":67},{"name":"waitTime(8)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":68},{"name":"path ''+noveltyUuid+''","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #","# Uso de API REST para obtener información de las novedades"],"keyword":"Given","line":71},{"name":"header X-WorkplaceBankCode = 'TEST01'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":72},{"name":"retry until responseStatus == 200 && response.cashInNovelty.status == status && response.cashInNoveltyDetailsCounters.total == total","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":73},{"name":"method get","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":74},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":75},{"name":"def totalAmount = response.cashInNovelty.totalAmount","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":76},{"name":"def status = response.cashInNovelty.status","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":77},{"name":"def totalNovelties = response.cashInNoveltyDetailsCounters.total","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":78},{"name":"def validationError = response.cashInNoveltyDetailsCounters.validationError","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":79},{"name":"def created = response.cashInNoveltyDetailsCounters.created#    * match totalAmount == '<>'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":80},{"name":"match getNovelty.status == 'VALIDATED'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":81},{"name":"match getNovelty.totalNovelties == '3'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":82},{"name":"match getNovelty.validationError == '0'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":83},{"name":"match getNovelty.created == '3'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":84},{"name":"waitTime(3)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":85}],"tags":[{"name":"@obtener_información_de_las_novedades","line":64},{"name":"@datos_correctamente_con_usuarios","line":64},{"name":"@regression","line":64}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"configure retry = {count: 3, interval: 3000}","result":{"duration":1033100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"18:16:50.984 Cargando configuraciones null \n","line":4}},{"name":"url baseURL","result":{"duration":2532500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def readerCSV = Java.type('co.cobre.lib.qa.util.UpdateFileCSV')","result":{"duration":6966700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def filePathCaracteresEspeciales = 'src\/test\/java\/acceptance\/test\/recaudoTemplateCaracteresEspeciales.csv'","result":{"duration":2808300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def searchNumeroDocumento = '558432'","result":{"duration":2580500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def newValueFechaVencimiento = '2024-04-20'","result":{"duration":3378900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def record = readerCSV.cargarDatosRecaudos(filePathCaracteresEspeciales, searchNumeroDocumento, newValueFechaVencimiento)","result":{"duration":94116900,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Modificar el campo en el CSV"],"keyword":"*","line":11},{"name":"print record","result":{"duration":4765000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12,"doc_string":{"content_type":"","value":"18:16:51.096 [print] [\n  \"RecaudoTemplate{tipoDocumento='CE', numeroDocumento='89308166', nombrePagador='', celular='+573504241615', email='correoprueba@gmail.com', referenciaUna='Ref8', referenciaDos='Ref27', descripcion='Pago deuda', monto='1157321', fechaVencimiento='2023-09-20', url='https:\/\/www.google.com'}\",\n  \"RecaudoTemplate{tipoDocumento='CC', numeroDocumento='558432', nombrePagador='RICARDO TORRES', celular='', email='rtorres@gmail.com', referenciaUna='Ref9', referenciaDos='Ref28', descripcion='', monto='75000', fechaVencimiento='2024-04-20', url='https:\/\/www.google.com'}\"\n]\n \n","line":12}},{"name":"def filePathDatosCorrectos = 'src\/test\/java\/acceptance\/test\/recaudoTemplateDatosCorrectos.csv'","result":{"duration":4160500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def searchNumeroDocumento = '952456029'","result":{"duration":2959300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def newValueFechaVencimiento = '2024-04-20'","result":{"duration":2511700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"def record = readerCSV.cargarDatosRecaudos(filePathDatosCorrectos, searchNumeroDocumento, newValueFechaVencimiento)","result":{"duration":34609500,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Modificar el campo en el CSV"],"keyword":"*","line":18},{"name":"print record","result":{"duration":6247100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19,"doc_string":{"content_type":"","value":"18:16:51.164 [print] [\n  \"RecaudoTemplate{tipoDocumento='CC', numeroDocumento='82954306', nombrePagador='Oscar Gomez', celular='+573001679059', email='ogomez@gmail.com', referenciaUna='Ref1', referenciaDos='', descripcion='', monto='2000', fechaVencimiento='2023-09-15', url='https:\/\/www.google.com'}\",\n  \"RecaudoTemplate{tipoDocumento='CE', numeroDocumento='461346', nombrePagador='Claudia López', celular='+573431092832', email='clopez@gmail.com', referenciaUna='Ref2', referenciaDos='', descripcion='', monto='1000000', fechaVencimiento='2023-09-15', url='https:\/\/www.google.com'}\",\n  \"RecaudoTemplate{tipoDocumento='NIT', numeroDocumento='952456029', nombrePagador='Natalia Perez', celular='+573790765120', email='nlopez@gmail.com', referenciaUna='Ref3', referenciaDos='', descripcion='', monto='2999', fechaVencimiento='2024-04-20', url='https:\/\/www.google.com'}\"\n]\n \n","line":19}},{"result":{"duration":16849200,"error_message":"js failed:\n>>>>\n01: Java.type('co.cobre.lib.qa.aws.S3Util')\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Access to host class co.cobre.lib.qa.aws.S3Util is not allowed or does not exist.\n- <js>.:program(Unnamed:1)\n\nclasspath:acceptance\/test\/prueba-tecnica.feature:24","status":"failed"},"comments":["# La clase S3Util se encuentra en un gestor de librerías externo al proyecto","# Imaginemos que esta clase contiene la configuración y conexión de un cliente AWS, además los métodos para subir archivos a buckets S3","# También contiene un método para verificar si un archivo se encuentra dentro de un folder"],"line":24,"name":"def S3Manager = Java.type('co.cobre.lib.qa.aws.S3Util')","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"18:16:51.180 classpath:acceptance\/test\/prueba-tecnica.feature:24\n* def S3Manager = Java.type('co.cobre.lib.qa.aws.S3Util')\njs failed:\n>>>>\n01: Java.type('co.cobre.lib.qa.aws.S3Util')\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Access to host class co.cobre.lib.qa.aws.S3Util is not allowed or does not exist.\n- <js>.:program(Unnamed:1)\n\nclasspath:acceptance\/test\/prueba-tecnica.feature:24\n","line":24}},{"name":"def S3ManagerInstance = new S3Manager()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":25},{"name":"def SQSManager = karate.callSingle('..\/acceptance\/test\/instances-sqs.js')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":26},{"name":"def waitTime = function(seconds) { java.lang.Thread.sleep(seconds * 1000) }","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":27},{"name":"def FileUtils = Java.type('co.cobre.lib.qa.util.FileUtils')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# La clase FileUtils se encuentra en un gestor de librerías externo al proyecto","# Imaginemos que esta clase contiene métodos para tomar un archivo, renombrarlo y copiarlo en otra ruta"],"keyword":"*","line":30},{"name":"def bucketName = 'test-automation-qa'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #"],"keyword":"*","line":33},{"name":"def folderRecaudoFiles = 'files-to-cash-in'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def noveltyUuid = java.util.UUID.randomUUID().toString()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"print \"El uuid de la novedad es: \" + noveltyUuid","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def fileExtension = \".csv\"","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def fullFileName = noveltyUuid+fileExtension","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def renameFile = FileUtils.renameFile(currentFilePath, currentFileName, newPathNewFile, noveltyUuid, fileExtension)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #"],"keyword":"*","line":40},{"name":"waitTime(3)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":41},{"name":"print \"El resultado de renombrar el archivo es: \" + renameFile","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":42},{"name":"match renameFile == true","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"print \"El bucket es: \" + bucketName","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #"],"keyword":"*","line":45},{"name":"print \"El folder  es: \" + folderRecaudoFiles","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":46},{"name":"S3ManagerInstance.uploadFileToBucket(bucketName, folderRecaudoFiles, fullFileName, newPathNewFile)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":47},{"name":"waitTime(3)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":48},{"name":"def fileExist = S3ManagerInstance.doesFileExist(bucketName, folderRecaudoFiles, fullFileName)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #"],"keyword":"*","line":50},{"name":"print \"La existencia del archivo es: \" + fileExist","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"match fileExist == true","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52},{"result":{"duration":0,"status":"skipped"},"comments":["# --------------------------------------------------------------- #"],"line":54,"name":"def variableMapToReplaceInQueueMessageBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n\"fileName\": '#(fullFileName)',\n\"workplacebankCode\": '',\n\"bucketName\": '#(bucketName)'\n}","line":54}}]},{"start_timestamp":"2024-06-18T23:16:50.978Z","line":112,"name":"Dado que se carga un archivo de recaudo con datos correctamente con usuarios que recibirán un link de pago, al procesarse el archivo se persisten en BD los recaudo creados exitosamente","description":"","id":"dado-que-se-carga-un-archivo-de-recaudo-con-datos-correctamente-con-usuarios-que-recibirán-un-link-de-pago,-al-procesarse-el-archivo-se-persisten-en-bd-los-recaudo-creados-exitosamente","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"set variableMapToReplaceInQueueMessageBody.workplacebankCode = 'TEST01'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":93},{"name":"SQSManager.sendMessageToQueue('queueEvent.json', 'testing-recaudo-qa.fifo', variableMapToReplaceInQueueMessageBody, 'src\/test\/java\/acceptance\/test\/')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":94},{"name":"waitTime(8)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":95},{"name":"def dataWithExpectedInformation = karate.read(\"classpath:acceptance\/test\/\" + 'respuestaEsperadaDatosCorrectos.json')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #","# Uso de API REST para obtener información de las novelty-details"],"keyword":"*","line":98},{"name":"def pageInt = parseInt('1')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":99},{"name":"def sizeInt = parseInt('3')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":100},{"name":"path ''+noveltyUuid+''+'\/novelty-details'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":101},{"name":"header X-WorkplaceBankCode = 'TEST01'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":102},{"name":"params {page: '0', size: '100'}","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":103},{"name":"retry until responseStatus == 200 && response.content != []","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":104},{"name":"method get","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":105},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":106},{"name":"def content = response.content","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":107},{"name":"match getNoveltyDetails.content contains deep dataWithExpectedInformation","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":108}],"tags":[{"name":"@datos_correctamente_con_usuarios","line":91},{"name":"@regression","line":91},{"name":"@obtener_información_de_las_novelty-details","line":91}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"configure retry = {count: 3, interval: 3000}","result":{"duration":436000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"18:16:51.227 Cargando configuraciones null \n","line":4}},{"name":"url baseURL","result":{"duration":886900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def readerCSV = Java.type('co.cobre.lib.qa.util.UpdateFileCSV')","result":{"duration":2667500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def filePathCaracteresEspeciales = 'src\/test\/java\/acceptance\/test\/recaudoTemplateCaracteresEspeciales.csv'","result":{"duration":1756500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def searchNumeroDocumento = '558432'","result":{"duration":1781200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def newValueFechaVencimiento = '2024-04-20'","result":{"duration":1628300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def record = readerCSV.cargarDatosRecaudos(filePathCaracteresEspeciales, searchNumeroDocumento, newValueFechaVencimiento)","result":{"duration":22599100,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Modificar el campo en el CSV"],"keyword":"*","line":11},{"name":"print record","result":{"duration":6394200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12,"doc_string":{"content_type":"","value":"18:16:51.274 [print] [\n  \"RecaudoTemplate{tipoDocumento='CE', numeroDocumento='89308166', nombrePagador='', celular='+573504241615', email='correoprueba@gmail.com', referenciaUna='Ref8', referenciaDos='Ref27', descripcion='Pago deuda', monto='1157321', fechaVencimiento='2023-09-20', url='https:\/\/www.google.com'}\",\n  \"RecaudoTemplate{tipoDocumento='CC', numeroDocumento='558432', nombrePagador='RICARDO TORRES', celular='', email='rtorres@gmail.com', referenciaUna='Ref9', referenciaDos='Ref28', descripcion='', monto='75000', fechaVencimiento='2024-04-20', url='https:\/\/www.google.com'}\"\n]\n \n","line":12}},{"name":"def filePathDatosCorrectos = 'src\/test\/java\/acceptance\/test\/recaudoTemplateDatosCorrectos.csv'","result":{"duration":1384100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def searchNumeroDocumento = '952456029'","result":{"duration":2686500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def newValueFechaVencimiento = '2024-04-20'","result":{"duration":2363400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"def record = readerCSV.cargarDatosRecaudos(filePathDatosCorrectos, searchNumeroDocumento, newValueFechaVencimiento)","result":{"duration":24983300,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Modificar el campo en el CSV"],"keyword":"*","line":18},{"name":"print record","result":{"duration":4104800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19,"doc_string":{"content_type":"","value":"18:16:51.306 [print] [\n  \"RecaudoTemplate{tipoDocumento='CC', numeroDocumento='82954306', nombrePagador='Oscar Gomez', celular='+573001679059', email='ogomez@gmail.com', referenciaUna='Ref1', referenciaDos='', descripcion='', monto='2000', fechaVencimiento='2023-09-15', url='https:\/\/www.google.com'}\",\n  \"RecaudoTemplate{tipoDocumento='CE', numeroDocumento='461346', nombrePagador='Claudia López', celular='+573431092832', email='clopez@gmail.com', referenciaUna='Ref2', referenciaDos='', descripcion='', monto='1000000', fechaVencimiento='2023-09-15', url='https:\/\/www.google.com'}\",\n  \"RecaudoTemplate{tipoDocumento='NIT', numeroDocumento='952456029', nombrePagador='Natalia Perez', celular='+573790765120', email='nlopez@gmail.com', referenciaUna='Ref3', referenciaDos='', descripcion='', monto='2999', fechaVencimiento='2024-04-20', url='https:\/\/www.google.com'}\"\n]\n \n","line":19}},{"result":{"duration":19117400,"error_message":"js failed:\n>>>>\n01: Java.type('co.cobre.lib.qa.aws.S3Util')\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Access to host class co.cobre.lib.qa.aws.S3Util is not allowed or does not exist.\n- <js>.:program(Unnamed:1)\n\nclasspath:acceptance\/test\/prueba-tecnica.feature:24","status":"failed"},"comments":["# La clase S3Util se encuentra en un gestor de librerías externo al proyecto","# Imaginemos que esta clase contiene la configuración y conexión de un cliente AWS, además los métodos para subir archivos a buckets S3","# También contiene un método para verificar si un archivo se encuentra dentro de un folder"],"line":24,"name":"def S3Manager = Java.type('co.cobre.lib.qa.aws.S3Util')","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"18:16:51.322 classpath:acceptance\/test\/prueba-tecnica.feature:24\n* def S3Manager = Java.type('co.cobre.lib.qa.aws.S3Util')\njs failed:\n>>>>\n01: Java.type('co.cobre.lib.qa.aws.S3Util')\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Access to host class co.cobre.lib.qa.aws.S3Util is not allowed or does not exist.\n- <js>.:program(Unnamed:1)\n\nclasspath:acceptance\/test\/prueba-tecnica.feature:24\n","line":24}},{"name":"def S3ManagerInstance = new S3Manager()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":25},{"name":"def SQSManager = karate.callSingle('..\/acceptance\/test\/instances-sqs.js')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":26},{"name":"def waitTime = function(seconds) { java.lang.Thread.sleep(seconds * 1000) }","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":27},{"name":"def FileUtils = Java.type('co.cobre.lib.qa.util.FileUtils')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# La clase FileUtils se encuentra en un gestor de librerías externo al proyecto","# Imaginemos que esta clase contiene métodos para tomar un archivo, renombrarlo y copiarlo en otra ruta"],"keyword":"*","line":30},{"name":"def bucketName = 'test-automation-qa'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #"],"keyword":"*","line":33},{"name":"def folderRecaudoFiles = 'files-to-cash-in'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def noveltyUuid = java.util.UUID.randomUUID().toString()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"print \"El uuid de la novedad es: \" + noveltyUuid","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def fileExtension = \".csv\"","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def fullFileName = noveltyUuid+fileExtension","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def renameFile = FileUtils.renameFile(currentFilePath, currentFileName, newPathNewFile, noveltyUuid, fileExtension)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #"],"keyword":"*","line":40},{"name":"waitTime(3)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":41},{"name":"print \"El resultado de renombrar el archivo es: \" + renameFile","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":42},{"name":"match renameFile == true","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"print \"El bucket es: \" + bucketName","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #"],"keyword":"*","line":45},{"name":"print \"El folder  es: \" + folderRecaudoFiles","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":46},{"name":"S3ManagerInstance.uploadFileToBucket(bucketName, folderRecaudoFiles, fullFileName, newPathNewFile)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":47},{"name":"waitTime(3)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":48},{"name":"def fileExist = S3ManagerInstance.doesFileExist(bucketName, folderRecaudoFiles, fullFileName)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #"],"keyword":"*","line":50},{"name":"print \"La existencia del archivo es: \" + fileExist","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"match fileExist == true","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52},{"result":{"duration":0,"status":"skipped"},"comments":["# --------------------------------------------------------------- #"],"line":54,"name":"def variableMapToReplaceInQueueMessageBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n\"fileName\": '#(fullFileName)',\n\"workplacebankCode\": '',\n\"bucketName\": '#(bucketName)'\n}","line":54}}]},{"start_timestamp":"2024-06-18T23:16:51.227Z","line":141,"name":"Dado que se carga un archivo de recaudo con datos que contienen caracteres especiales, al procesarse el archivo se verificará la información y se persistirán en BD con el detalle del error","description":"","id":"dado-que-se-carga-un-archivo-de-recaudo-con-datos-que-contienen-caracteres-especiales,-al-procesarse-el-archivo-se-verificará-la-información-y-se-persistirán-en-bd-con-el-detalle-del-error","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"set variableMapToReplaceInQueueMessageBody.workplacebankCode = 'TEST01'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":118},{"name":"SQSManager.sendMessageToQueue('queueEvent.json', 'testing-recaudo-qa.fifo', variableMapToReplaceInQueueMessageBody, 'src\/test\/java\/acceptance\/test\/')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":119},{"name":"waitTime(8)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":120},{"name":"path ''+noveltyUuid+''","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #","# Uso de API REST para obtener información de las novedades"],"keyword":"Given","line":123},{"name":"header X-WorkplaceBankCode = 'TEST01'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":124},{"name":"retry until responseStatus == 200 && response.cashInNovelty.status == status && response.cashInNoveltyDetailsCounters.total == total","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":125},{"name":"method get","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":126},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":127},{"name":"def totalAmount = response.cashInNovelty.totalAmount","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":128},{"name":"def status = response.cashInNovelty.status","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":129},{"name":"def totalNovelties = response.cashInNoveltyDetailsCounters.total","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":130},{"name":"def validationError = response.cashInNoveltyDetailsCounters.validationError","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":131},{"name":"def created = response.cashInNoveltyDetailsCounters.created#    * match totalAmount == '<>'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":132},{"name":"match getNovelty.status == 'VALIDATED'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":133},{"name":"match getNovelty.totalNovelties == '2'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":134},{"name":"match getNovelty.validationError == '2'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":135},{"name":"match getNovelty.created == '0'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":136},{"name":"waitTime(3)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":137}],"tags":[{"name":"@datos_contienen_caracteres_especiales","line":116},{"name":"@obtener_información_de_las_novedades","line":116},{"name":"@regression","line":116}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"configure retry = {count: 3, interval: 3000}","result":{"duration":687400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"18:16:51.400 Cargando configuraciones null \n","line":4}},{"name":"url baseURL","result":{"duration":1207500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def readerCSV = Java.type('co.cobre.lib.qa.util.UpdateFileCSV')","result":{"duration":7500500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def filePathCaracteresEspeciales = 'src\/test\/java\/acceptance\/test\/recaudoTemplateCaracteresEspeciales.csv'","result":{"duration":2251200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def searchNumeroDocumento = '558432'","result":{"duration":3536300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def newValueFechaVencimiento = '2024-04-20'","result":{"duration":3490000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def record = readerCSV.cargarDatosRecaudos(filePathCaracteresEspeciales, searchNumeroDocumento, newValueFechaVencimiento)","result":{"duration":29160200,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Modificar el campo en el CSV"],"keyword":"*","line":11},{"name":"print record","result":{"duration":4161500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12,"doc_string":{"content_type":"","value":"18:16:51.463 [print] [\n  \"RecaudoTemplate{tipoDocumento='CE', numeroDocumento='89308166', nombrePagador='', celular='+573504241615', email='correoprueba@gmail.com', referenciaUna='Ref8', referenciaDos='Ref27', descripcion='Pago deuda', monto='1157321', fechaVencimiento='2023-09-20', url='https:\/\/www.google.com'}\",\n  \"RecaudoTemplate{tipoDocumento='CC', numeroDocumento='558432', nombrePagador='RICARDO TORRES', celular='', email='rtorres@gmail.com', referenciaUna='Ref9', referenciaDos='Ref28', descripcion='', monto='75000', fechaVencimiento='2024-04-20', url='https:\/\/www.google.com'}\"\n]\n \n","line":12}},{"name":"def filePathDatosCorrectos = 'src\/test\/java\/acceptance\/test\/recaudoTemplateDatosCorrectos.csv'","result":{"duration":1467600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def searchNumeroDocumento = '952456029'","result":{"duration":2602800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def newValueFechaVencimiento = '2024-04-20'","result":{"duration":2181900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"def record = readerCSV.cargarDatosRecaudos(filePathDatosCorrectos, searchNumeroDocumento, newValueFechaVencimiento)","result":{"duration":34955300,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Modificar el campo en el CSV"],"keyword":"*","line":18},{"name":"print record","result":{"duration":4223200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19,"doc_string":{"content_type":"","value":"18:16:51.509 [print] [\n  \"RecaudoTemplate{tipoDocumento='CC', numeroDocumento='82954306', nombrePagador='Oscar Gomez', celular='+573001679059', email='ogomez@gmail.com', referenciaUna='Ref1', referenciaDos='', descripcion='', monto='2000', fechaVencimiento='2023-09-15', url='https:\/\/www.google.com'}\",\n  \"RecaudoTemplate{tipoDocumento='CE', numeroDocumento='461346', nombrePagador='Claudia López', celular='+573431092832', email='clopez@gmail.com', referenciaUna='Ref2', referenciaDos='', descripcion='', monto='1000000', fechaVencimiento='2023-09-15', url='https:\/\/www.google.com'}\",\n  \"RecaudoTemplate{tipoDocumento='NIT', numeroDocumento='952456029', nombrePagador='Natalia Perez', celular='+573790765120', email='nlopez@gmail.com', referenciaUna='Ref3', referenciaDos='', descripcion='', monto='2999', fechaVencimiento='2024-04-20', url='https:\/\/www.google.com'}\"\n]\n \n","line":19}},{"result":{"duration":18083500,"error_message":"js failed:\n>>>>\n01: Java.type('co.cobre.lib.qa.aws.S3Util')\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Access to host class co.cobre.lib.qa.aws.S3Util is not allowed or does not exist.\n- <js>.:program(Unnamed:1)\n\nclasspath:acceptance\/test\/prueba-tecnica.feature:24","status":"failed"},"comments":["# La clase S3Util se encuentra en un gestor de librerías externo al proyecto","# Imaginemos que esta clase contiene la configuración y conexión de un cliente AWS, además los métodos para subir archivos a buckets S3","# También contiene un método para verificar si un archivo se encuentra dentro de un folder"],"line":24,"name":"def S3Manager = Java.type('co.cobre.lib.qa.aws.S3Util')","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"18:16:51.530 classpath:acceptance\/test\/prueba-tecnica.feature:24\n* def S3Manager = Java.type('co.cobre.lib.qa.aws.S3Util')\njs failed:\n>>>>\n01: Java.type('co.cobre.lib.qa.aws.S3Util')\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Access to host class co.cobre.lib.qa.aws.S3Util is not allowed or does not exist.\n- <js>.:program(Unnamed:1)\n\nclasspath:acceptance\/test\/prueba-tecnica.feature:24\n","line":24}},{"name":"def S3ManagerInstance = new S3Manager()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":25},{"name":"def SQSManager = karate.callSingle('..\/acceptance\/test\/instances-sqs.js')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":26},{"name":"def waitTime = function(seconds) { java.lang.Thread.sleep(seconds * 1000) }","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":27},{"name":"def FileUtils = Java.type('co.cobre.lib.qa.util.FileUtils')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# La clase FileUtils se encuentra en un gestor de librerías externo al proyecto","# Imaginemos que esta clase contiene métodos para tomar un archivo, renombrarlo y copiarlo en otra ruta"],"keyword":"*","line":30},{"name":"def bucketName = 'test-automation-qa'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #"],"keyword":"*","line":33},{"name":"def folderRecaudoFiles = 'files-to-cash-in'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def noveltyUuid = java.util.UUID.randomUUID().toString()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"print \"El uuid de la novedad es: \" + noveltyUuid","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def fileExtension = \".csv\"","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def fullFileName = noveltyUuid+fileExtension","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def renameFile = FileUtils.renameFile(currentFilePath, currentFileName, newPathNewFile, noveltyUuid, fileExtension)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #"],"keyword":"*","line":40},{"name":"waitTime(3)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":41},{"name":"print \"El resultado de renombrar el archivo es: \" + renameFile","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":42},{"name":"match renameFile == true","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"print \"El bucket es: \" + bucketName","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #"],"keyword":"*","line":45},{"name":"print \"El folder  es: \" + folderRecaudoFiles","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":46},{"name":"S3ManagerInstance.uploadFileToBucket(bucketName, folderRecaudoFiles, fullFileName, newPathNewFile)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":47},{"name":"waitTime(3)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":48},{"name":"def fileExist = S3ManagerInstance.doesFileExist(bucketName, folderRecaudoFiles, fullFileName)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #"],"keyword":"*","line":50},{"name":"print \"La existencia del archivo es: \" + fileExist","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"match fileExist == true","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52},{"result":{"duration":0,"status":"skipped"},"comments":["# --------------------------------------------------------------- #"],"line":54,"name":"def variableMapToReplaceInQueueMessageBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n\"fileName\": '#(fullFileName)',\n\"workplacebankCode\": '',\n\"bucketName\": '#(bucketName)'\n}","line":54}}]},{"start_timestamp":"2024-06-18T23:16:51.384Z","line":165,"name":"Dado que se carga un archivo de recaudo con datos que contienen caracteres especiales, al procesarse el archivo se verificará la información y se persistirán en BD con el detalle del error","description":"","id":"dado-que-se-carga-un-archivo-de-recaudo-con-datos-que-contienen-caracteres-especiales,-al-procesarse-el-archivo-se-verificará-la-información-y-se-persistirán-en-bd-con-el-detalle-del-error","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"set variableMapToReplaceInQueueMessageBody.workplacebankCode = 'TEST01'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":146},{"name":"SQSManager.sendMessageToQueue('queueEvent.json', 'testing-recaudo-qa.fifo', variableMapToReplaceInQueueMessageBody, 'src\/test\/java\/acceptance\/test\/')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":147},{"name":"waitTime(8)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":148},{"name":"def dataWithExpectedInformation = karate.read(\"classpath:acceptance\/test\/\" + 'respuestaEsperadaCaracteresEspeciales.json')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #","# Uso de API REST para obtener información de las novelty-details"],"keyword":"*","line":151},{"name":"def pageInt = parseInt('1')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":152},{"name":"def sizeInt = parseInt('2')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":153},{"name":"path ''+noveltyUuid+''+'\/novelty-details'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":154},{"name":"header X-WorkplaceBankCode = 'TEST01'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":155},{"name":"params {page: '0', size: '100'}","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":156},{"name":"retry until responseStatus == 200 && response.content != []","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":157},{"name":"method get","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":158},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":159},{"name":"def content = response.content","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":160},{"name":"match getNoveltyDetails.content contains deep dataWithExpectedInformation","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":161}],"tags":[{"name":"@datos_contienen_caracteres_especiales","line":144},{"name":"@regression","line":144},{"name":"@obtener_información_de_las_novelty-details","line":144}]}],"name":"acceptance\/test\/prueba-tecnica.feature","description":"sample karate test script","id":"sample-karate-test-script","keyword":"Feature","uri":"acceptance\/test\/prueba-tecnica.feature"}]